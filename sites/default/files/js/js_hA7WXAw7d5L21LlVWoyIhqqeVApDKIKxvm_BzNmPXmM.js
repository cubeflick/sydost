Drupal.locale = { 'pluralFormula': function ($n) { return Number(($n!=1)); }, 'strings': {"":{"An AJAX HTTP error occurred.":"Ett AJAX HTTP-fel intr\u00e4ffade","HTTP Result Code: !status":"Resultatkod f\u00f6r HTTP: !status","An AJAX HTTP request terminated abnormally.":"Ett AJAX HTTP-anrop avslutades ov\u00e4ntat.","Debugging information follows.":"Fels\u00f6kningsinformation f\u00f6ljer.","Path: !uri":"S\u00f6kv\u00e4g: !uri","StatusText: !statusText":"Statustext: !statusText","ResponseText: !responseText":"Svarstext: !responseText","ReadyState: !readyState":"Tillst\u00e5nd: !readyState","Hide":"D\u00f6lj","Show":"Visa","Internal server error. Please see server or PHP logs for error information.":"Internt serverfel. Var v\u00e4nlig se loggar fr\u00e5n server eller PHP f\u00f6r felmeddelande.","@title dialog":"Dialog @title","Configure":"Konfigurera","Please wait...":"V\u00e4nligen v\u00e4nta...","Loading":"Laddar","(active tab)":"(aktiv flik)","Re-order rows by numerical weight instead of dragging.":"Sortera om rader efter numerisk vikt ist\u00e4llet f\u00f6r drag-och-sl\u00e4pp.","Show row weights":"Visa radernas vikt","Hide row weights":"D\u00f6lj radernas vikt","Drag to re-order":"Drag f\u00f6r att ordna om","Changes made in this table will not be saved until the form is submitted.":"\u00c4ndringar som g\u00f6rs i denna tabell sparas inte f\u00f6rr\u00e4n formul\u00e4ret skickas.","Add":"L\u00e4gg till","Remove group":"Ta bort grupp","Apply (all displays)":"Till\u00e4mpa (alla visningar)","Revert to default":"\u00c5terg\u00e5r till f\u00f6rvalt","Apply (this display)":"Till\u00e4mpa (denna visning)","Edit":"Redigera","Customize dashboard":"Anpassa \u00f6versiktspanel","Not published":"Inte publicerad","Enabled":"Aktiverad","Close":"St\u00e4ng","Other":"\u00d6vriga","Disabled":"Ej aktiverad","Mon":"m\u00e5n","Fri":"fre","Next":"N\u00e4sta","Tue":"tis","Sun":"s\u00f6n","Thu":"tors","Saturday":"l\u00f6rdag","Sunday":"s\u00f6ndag","Monday":"m\u00e5ndag","Tuesday":"tisdag","Wednesday":"onsdag","Thursday":"torsdag","Friday":"fredag","May":"maj","Apr":"apr","Oct":"okt","Jul":"jul","Jun":"jun","Mar":"mar","Jan":"jan","Aug":"aug","Sep":"sep","Feb":"feb","Nov":"nov","Dec":"dec","Done":"F\u00e4rdig","@count year from now":"@count \u00e5r fr\u00e5n nu","@count years from now":"@count \u00e5r fr\u00e5n nu","Upload":"Ladda upp","OK":"OK","Prev":"F\u00f6reg","Wed":"ons","Sat":"l\u00f6r","January":"januari","February":"februari","March":"mars","April":"april","June":"juni","July":"juli","August":"augusti","September":"september","October":"oktober","November":"november","December":"december","Select all rows in this table":"Markera alla rader i tabellen","Deselect all rows in this table":"Avmarkera alla rader i tabellen","Today":"Idag","Su":"s\u00f6n","Mo":"m\u00e5n","Tu":"tis","We":"ons","Th":"tor","Fr":"fre","Sa":"l\u00f6r","mm\/dd\/yy":"yyyy-mm-dd","Only files with the following extensions are allowed: %files-allowed.":"Endast filer med f\u00f6ljande fil\u00e4ndelser till\u00e5ts: %files-allowed.","By @name on @date":"Av @name @date","By @name":"Av @name","Not in menu":"Ej i meny","Alias: @alias":"Alias: @alias","No alias":"Inga alias","New revision":"Ny version","The changes to these blocks will not be saved until the \u003Cem\u003ESave blocks\u003C\/em\u003E button is clicked.":"\u00c4ndringarna i dessa block kommer inte att sparas f\u00f6rr\u00e4n knappen \u003Cem\u003ESpara block\u003C\/em\u003E klickas p\u00e5.","This permission is inherited from the authenticated user role.":"Denna beh\u00f6righet \u00e4rvs fr\u00e5n rollen verifierad anv\u00e4ndare.","No revision":"Inga versioner","Requires a title":"Kr\u00e4ver en titel","Not restricted":"Ej begr\u00e4nsad","Not customizable":"Ej anpassningsbart","Restricted to certain pages":"Begr\u00e4nsad till vissa sidor","The block cannot be placed in this region.":"Blocket kan inte placeras i denna region.","Hide summary":"D\u00f6lj sammanfattning","Edit summary":"Redigera sammanfattning","Don\u0027t display post information":"Visa inte information om inl\u00e4gg","The selected file %filename cannot be uploaded. Only files with the following extensions are allowed: %extensions.":"Den valda filen %filename kan inte laddas upp. Endast filer med f\u00f6ljande \u00e4ndelser \u00e4r till\u00e5tna: %extensions.","Autocomplete popup":"Popup med automatisk komplettering","Searching for matches...":"S\u00f6ker efter tr\u00e4ffar...","Log messages":"Loggmeddelanden","Please select a file.":"Var v\u00e4nlig v\u00e4lj en fil.","You are not allowed to operate on more than %num files.":"Du har inte till\u00e5telse att hantera mer \u00e4n %num filer i taget.","Please specify dimensions within the allowed range that is from 1x1 to @dimensions.":"Var v\u00e4nlig ange m\u00e5tt inom det till\u00e5tna omr\u00e5det som \u00e4r fr\u00e5n 1x1 till @dimensions.","%filename is not an image.":"%filename \u00e4r inte en bild.","File browsing is disabled in directory %dir.":"Filhantering \u00e4r avaktiverad i katalogen %dir.","Do you want to refresh the current directory?":"Vill du uppdatera den nuvarande katalogen?","Delete selected files?":"Radera valda filer?","Please select a thumbnail.":"Var v\u00e4nlig v\u00e4lj en miniatyrbild.","You must select at least %num files.":"Du m\u00e5ste v\u00e4lja \u00e5tminstone %num filer.","You can not perform this operation.":"Du kan inte utf\u00f6ra den h\u00e4r \u00e5tg\u00e4rden.","Insert file":"Infoga fil","Change view":"\u00c4ndra vy","Crop must be inside the image boundaries.":"Besk\u00e4rningen m\u00e5ste vara innanf\u00f6r bildens gr\u00e4nser.","No style":"Ingen stil","No title":"Ingen titel","No name":"Inget namn","Automatic alias":"Automatiskt alias","Insert this token into your form":"Infoga detta ers\u00e4ttningstecken i ditt formul\u00e4r","First click a text field to insert your tokens into.":"Klicka f\u00f6rst p\u00e5 ett textf\u00e4lt att infoga dina ers\u00e4ttningstecken i."}} };;
Drupal.absolute_messages = Drupal.absolute_messages || {};

(function ($) {

  Drupal.absolute_messages.initialize = function(){

    Drupal.absolute_messages.timeouts = new Array();
    if ($("#absolute-messages-messages").length > 0) {
      // Move messages from closure to right after opening of body tag.
      $("body").prepend($("#absolute-messages-messages"));
      
      if (Drupal.absolute_messages.max_lines) {
        Drupal.absolute_messages.checkHeights();
      }
      
      // Bind all required events.
      Drupal.absolute_messages.bindEvents();

      // Show all messages.
      $(".absolute-messages-message").not(".absolute-messages-dismiss-all").slideDown(600);
      Drupal.absolute_messages.checkIcons();
    }

    // Move any additional messages addad by Ajax calls 
    // after the page was generated.
    $(document).ajaxComplete(function(){
      Drupal.absolute_messages.checkNewMessages();
    });

  };

  Drupal.absolute_messages.checkHeights = function(){
    var line_height;
    var current_height;
    // display-none elements do not have height, so we need to display
    // them first  (although hidden) to be able to get their height.
    // Also, force-set height to avoid "jumpy" animation.
    $(".absolute-messages-message").each(function(){
      if ($(this).css("display") == "none") {
        $(this).css({'visibility':'hidden', 'display':'block'})
               .css("height", $(this).height());
        line_height = parseInt($(".absolute-messages-message .content").css("line-height"));
        current_height = $(".content", this).height();
        if (current_height > line_height * Drupal.absolute_messages.max_lines) {
          $(".content", this).css("max-height", line_height * Drupal.absolute_messages.max_lines)
                             .addClass("collapsed")
                             .parents(".absolute-messages-message")
                             .addClass("collapsible")
                             .attr("title", "Click to see the whole message");
        }
        // And hide them again so we still can manage them using jQuery sliding.
        $(this).removeAttr('style');
      }
    });
  };
  
  Drupal.absolute_messages.checkIcons = function(){
    var visible_messages = $(".absolute-messages-message:visible").not(".absolute-messages-dismiss-all").size();
    // If no messages are displayed, remove "Dismiss all" icon
    // and show "Show dismissed messages" icon.
    if (visible_messages == 0) {
      $("div.absolute-messages-dismiss-all").hide();
      $("#absolute-messages-show").show();
    };
    // Show "Dismiss all messages" icon if number of visible
    // messages is higher that configured in module settings.
    if (Drupal.absolute_messages.dismiss_all_count && visible_messages > Drupal.absolute_messages.dismiss_all_count) {
      $("div.absolute-messages-dismiss-all").show();
    }
  };

  Drupal.absolute_messages.checkTopOffset = function(){
    // Let's wait for fully generated #admin-menu if it's not ready yet.
    if ($("#admin-menu").height() == null) {
      setTimeout("Drupal.absolute_messages.checkTopOffset()", 100);
    }
    var top_offset = 0;
    if ($(window).scrollTop() < $("#admin-menu").height()) {
      top_offset = $("#admin-menu").height() - $(window).scrollTop();
    }
    $("#absolute-messages-messages").css("top", top_offset + "px");
  };
  
  Drupal.absolute_messages.bindEvents = function(){
    // First try to unbind all previously bound events, to avoid multiple calls
    // after bindings are refreshed when adding new messages on ajaxComplete.
    
    // Fix message bar to the top of browser's viewport.
    if ($("#absolute-messages-messages").css("position") == "fixed") {
      // #toolbar div has fixed position too, no need then to check it when scrolling.
      if ($("#toolbar").length > 0) {
        $("#absolute-messages-messages").css("top", $("#toolbar").height() + "px");
      }
      // #admin-menu could be not ready at page load yet, so "length" property
      // will not work as expected. Therefore let's check body class instead.
      else if ($("body").hasClass("admin-menu")) {
        Drupal.absolute_messages.checkTopOffset();
        $(window).scroll(function(){
          Drupal.absolute_messages.checkTopOffset();
        });
      }
    }
    
    // Dismiss single message.
    $("a.absolute-messages-dismiss").unbind("click").bind("click", function(){
      // Unbind "click" event first to avoid accidental collapsing/expanding.
      $(this).parents(".absolute-messages-message").unbind("click").slideUp(300, function(){
        Drupal.absolute_messages.checkIcons();
      });
    });

    // Dismiss all messages.
    $("a.absolute-messages-dismiss-all").unbind("click").bind("click", function(){
      $(".absolute-messages-message").slideUp(300, function(){
        Drupal.absolute_messages.checkIcons();
      });
    });

    // Show cursor as pointer when hovering over 'show dismissed messages' icon.
    // This is mainly for IE, as it does not want to change the cursor through CSS
    // over the whole element when containing element has width and height of 0px.
    $("#absolute-messages-show").unbind("mouseenter").bind("mouseenter", function(){
      $(this).css("cursor", "pointer");
    }).unbind("mouseleave").bind("mouseleave", function(){
      $(this).css("cursor", "auto");
    });

    // Show all previously dismissed messages after clicking on 'show dismissed' icon.
    $("#absolute-messages-show").unbind("click").bind("click", function(){
      $(this).hide();
      $(".absolute-messages-message").not(".absolute-messages-dismiss-all").slideDown(300, function(){
        Drupal.absolute_messages.checkIcons();
      });
    });

    // Automatic dismiss messages after specified time.
    $.each(Drupal.absolute_messages.dismiss, function(index, value){
      if (value == 1) {
        Drupal.absolute_messages.timeouts[index] = setTimeout(function(){
          $(".absolute-messages-"+index).slideUp(600, function(){
            Drupal.absolute_messages.checkIcons();
          });
        }, Drupal.absolute_messages.dismiss_time[index] * 1000);
      }
    });

    // Clear all timeouts on mouseover and set them again on mouseout.
    $("#absolute-messages-messages").unbind("mouseenter").bind("mouseenter", function(){
      Drupal.absolute_messages.clearTimeouts();
    }).unbind("mouseleave").bind("mouseleave", function(){
      Drupal.absolute_messages.setTimeouts();
    });

    // Expand/collapse long messages.
    $(".absolute-messages-message.collapsible").unbind("click").bind("click", function(){
      if ($(".content", this).hasClass("collapsed")) {
        Drupal.absolute_messages.messageExpand($(".content", this));
      } else {
        Drupal.absolute_messages.messageCollapse($(".content", this));
      }
    });

  };
  
  Drupal.absolute_messages.setTimeouts = function(){
    $.each(Drupal.absolute_messages.dismiss, function(index, value){
      if (value == 1) {
        Drupal.absolute_messages.timeouts[index] = setTimeout(function(){
          $(".absolute-messages-"+index).slideUp(600, function(){
            Drupal.absolute_messages.checkIcons();
          });
        }, Drupal.absolute_messages.dismiss_time[index] * 1000);
      }
    });
  };

  Drupal.absolute_messages.clearTimeouts = function(){
    $.each(Drupal.absolute_messages.dismiss, function(index, value){
      clearTimeout(Drupal.absolute_messages.timeouts[index]);
    });
  };
  
  Drupal.absolute_messages.messageCollapse = function(element){
    $(element).css("max-height", parseInt($(element).css("line-height")) * Drupal.absolute_messages.max_lines)
              .removeClass("expanded")
              .addClass("collapsed");
  };

  Drupal.absolute_messages.messageExpand = function(element){
    $(element).css("max-height", "")
              .removeClass("collapsed")
              .addClass("expanded");
  };

  Drupal.absolute_messages.checkNewMessages = function(){
    Drupal.absolute_messages.clearTimeouts();
    // Search for any #absolute-messages-messages divs
    // which are not direct children of <body> tag.
    $("body").children().find("#absolute-messages-messages").each(function(index){
      if (Drupal.absolute_messages.max_lines) {
        Drupal.absolute_messages.checkHeights();
      }
      // If #absolute-messages-messages dix does not exist yet right after
      // the body tag, let's just move the freshly created one there.
      if ($("body > #absolute-messages-messages").length == 0) {
        $("body").prepend($(this));
        $(".absolute-messages-message").not(".absolute-messages-dismiss-all").slideDown(600);
      }
      // On the other hand, if it already exists there, let's move all
      // new messages only and add them right before "Dismiss all messages"
      // icon, then remove the new #absolute-messages-messages div completely.
      else {
        $("#absolute-messages-show").hide();
        $("div.absolute-messages-dismiss-all", "body > #absolute-messages-messages").before($(".absolute-messages-message", this)
                                                                                    .not(".absolute-messages-dismiss-all", this)
                                                                                    .slideDown(600));
        $(this).remove();
      }
      Drupal.absolute_messages.bindEvents();
      Drupal.absolute_messages.checkIcons();
    });
  };
  
  $(document).ready(function(){
    Drupal.absolute_messages.initialize();
  });

})(jQuery);
;
